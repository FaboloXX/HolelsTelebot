# Проект TheBestHotels

TheBestHotels - это бот для Telegram, который подбирает пользователю отели.


##Краткое описание
Телеграмм бот позволяет найти выгодное предложение на платформе [Hotels.com](https://hotels.com/).
<br> Пользователь с помощью специальных команд бота может выполнить следующие действия (получить следующую информацию): <br/>
- Узнать топ самых дешёвых отелей в городе (**команда /lowprice**). 
- Узнать топ самых дорогих отелей в городе (**команда /highprice**). 
- Узнать топ отелей, наиболее подходящих по цене и расположению от центра (самые дешёвые и находятся ближе всего к центру) (**команда /bestdeal**). 
- Узнать историю поиска отелей (**команда /history**)

## Установка

1. Клонируйте репозиторий с github
2. Создайте виртуальное окружение
3. Установите зависимости `pip install -r requirements`
4. Создайте файл .env в который необходимо добавить:
```
BOT_TOKEN="Ваш токен для бота, полученный от @BotFather"
RAPID_API_KEY="Ваш ключ полученный от API по адресу rapidapi.com/apidojo/api/hotels4/"
```
5. Запустите бота из файла main.py

## Описание работы команд
### Команда /start
Бот здоровается и объясняет для чего он нужен.

### Команда /hеlp
Пользователю выводиться список доступных команд.

### Команда /lowprice
Происходит опрос пользователя по поиску отеля, после чего выводятся результаты с самой низкой ценой.

### Команда /highprice
Происходит опрос пользователя по поиску отеля, после чего выводятся результаты с самой высокой ценой.

### Команда /bestdeal
Происходит опрос пользователя по поиску отеля, после чего выводятся результаты с самым ближайшим расположением к центру 
выбранной локации.

### Команда /history
Пользователю выводятся результаты выдачи ему подобранных отелей с указанием вводимой для поиска команды, даты и времени
ввода команды, локации и подобранных вариантов.

### Команда /cancel
В случае ввода команды, в процессе опроса пользователя по выбору отеля, все введенные им данные удаляются, за исключением
опросов, которые были завершены.

## Особенности
Для хранения данных по подбору отелей используется стандартная библиотека SQLite3.


## В разработке использованы
- [HotelsApi](https://rapidapi.com/apidojo/api/hotels4/)
- [Python 3.9](https://www.python.org/)
- [pyTelegramBotAPI](https://pypi.org/project/pyTelegramBotAPI/)
- [python-telegram-bot-calendar](https://github.com/artembakhanov/python-telegram-bot-calendar)
- [requests](https://pypi.org/project/requests/)